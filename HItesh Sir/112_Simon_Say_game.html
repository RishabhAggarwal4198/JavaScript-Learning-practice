<!DOCTYPE html>
<html lang="en">
<head>
	<title>SIMON SAY</title>

	<style>

	body {
		background-color: #d3cbcb;
		color: #3f3d3d;
		display: grid;
		place-items: center;
		gap: 0px;
		height: 400px;
	}

	.btn{
		height: 140px;
		width: 140px;
		border-radius: 20%;
		border: 10px solid rgb(81, 79, 79);
		/* margin: 10px; */
	}


	.btn-conainer{
		display: grid;
		grid-template-columns: 1fr 1fr;
		justify-content: center;
		gap: 20px;
	}

	.red{
	 background-color: rgb(232, 97, 97);
	}

	.green{
	background-color: rgb(56, 142, 83);
	}

	.yellow{
	background-color: rgb(211, 120, 46);

	}

	.blue{
	background-color: rgb(52, 112, 201);
	}

	.flash {
		background-color: #d3cbcb;
	}
	.userflash {
		background-color: #ff0000;
	}


	</style>

</head>

<body>
	<h1>Simon Says Game</h1>
	<h2>Press any key to start the game</h2>

	<div class="btn-conainer">
		<div class="btn red" type="button" id="red" ></div>
		<div class="btn  green" type="button" id="green" ></div>
		<div class="btn yellow" type="button" id="yellow" ></div>
		<div class="btn  blue" type="button" id="blue" ></div>
	</div>

	
</body>



<script>

let gameSeq = []
let userSeq = []

let btns = [`red`,`green`,`yellow`,`blue`]

let started = false;
let level = 0;

let h2 = document.querySelector('h2')

document.addEventListener('keypress', function () {
	if (started == false) {
		console.log(`game started`);
		started = true

		levelUp()
	}
})


function gameFlash (btn) {
	btn.classList.add('flash')
	setTimeout(function() {
		btn.classList.remove('flash')
	}, 200)
}

function userFlash (btn) {
	btn.classList.add('userflash')
	setTimeout(function() {
		btn.classList.remove('userflash')
	}, 200)
}


function levelUp () {
  level ++;
  h2.innerText = `Level : ${level}`

  let randIdx = Math.floor(Math.random()*4)
  let randColor = btns[randIdx]
  let randBtn = document.querySelector(`.${randColor}`)     //✅ It will give the value of different classes of diffrent buttons stored with the names like 'red', 'green', 'yellow', 'blue'
  gameSeq.push(randColor) 
  console.log(gameSeq);
//   console.log(randIdx);
//   console.log(randColor);
  gameFlash(randBtn);
}


function checkAns () {
  console.log(`curr level : ${level}`);
  let idx = level-1;

  if(userSeq(idx) === gameSeq(idx)) {
	console.log(`same value`);
  } else {
	h2.innerText = `Game Over! Press any key to start`
  }
}



function btnPress () {
	console.log(this);    //✅ 'this' will give the value of the button pressed
	let btn = this;
	userFlash(btn)

	let userColor = btn.getAttribute('id')
	console.log(userColor);
	userSeq.push(userColor)

	checkAns();
}



let allBtns = document.querySelectorAll('.btn')

for(btn of allBtns){
	btn.addEventListener('click', btnPress) 
}



 






</script>



</html>