<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>

    <body>
        <p>Start should change the background color Every Second & Stop gonna end this process</p>
        <button id="Start" >Start</button>
        <button id="Stop" >Stop</button>
    </body>




    <script>
        // const randomColor = function() {
        //     const hex = '0123456789ABCDEF';     // [üìç even though it's an String based variable but the values stored in it are in the form of ARRAY & it's indexes]
        //     let color = '#';
        //     for (let i = 0; i < 6; i++){
        //         color += hex[Math.floor(Math.random()*16)];
        //     }
        //     return color;
        // }; 

        // let intervalId;

        // const startChangingColor = function () {
            
        //     function changeBgColor () {
        //         document.body.style.backgroundColor = randomColor();
        //     }

        //     intervalId = setInterval (changeBgColor, 1000 )
        // }

        
        // const stopChangingColor = function () {
        //     clearInterval(intervalId);
        // }


        // document.querySelector('#Start').addEventListener('click', startChangingColor);

        // document.querySelector('#Stop').addEventListener('click', stopChangingColor )
        
        
                                // üîΩüîΩ  (for making the code much more Efiicient)
        

        const randomColor = function() {
            const hex = '0123456789ABCDEF';     // [üìç even though it's an String based variable but the values stored in it are in the form of ARRAY & it's indexes]
            let color = '#';
            for (let i = 0; i < 6; i++){
                color += hex[Math.floor(Math.random()*16)];
            }
            return color;
        }; 

        let intervalId;

        const startChangingColor = function () {
            if(!intervalId){
                intervalId = setInterval(changeBgColor, 1000)     // ‚úÖ‚úÖ
            }
            
            function changeBgColor () {
                document.body.style.backgroundColor = randomColor();
            }

            intervalId = setInterval (changeBgColor, 1000 )
        }


        const stopChangingColor = function () {
            clearInterval(intervalId);
            intervalId = null;                                   // ‚úÖ‚úÖ
        }


        document.querySelector('#Start').addEventListener('click', startChangingColor);

        document.querySelector('#Stop').addEventListener('click', stopChangingColor )


    </script>

</html>